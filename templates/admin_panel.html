<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Quorel</title>
    <style>
        :root {
            --blue-25: #f7faff;
            --blue-50: #f2f7ff;
            --blue-100: #e6f1ff;
            --blue-200: #d3e7ff;
            --blue-300: #b9d8ff;
            --blue-400: #8fc0ff;
            --blue-500: #5da6ff;
            --blue-600: #3b86e8;
            --blue-700: #2d69bb;
            --ink-900: #0b1a33;
            --ink-800: #173356;
            --ink-700: #274264;
            --ink-600: #35577b;
            --muted: #6e8aab;
            --shadow: 0 6px 28px rgba(23, 70, 161, 0.12);
            --shadow-soft: 0 2px 14px rgba(23, 70, 161, 0.08);
            --speed-fast: 180ms;
            --speed-med: 280ms;
            --grad: linear-gradient(135deg, rgba(93, 166, 255, 0.18), rgba(232, 242, 255, 0.6));
            --grad-strong: linear-gradient(90deg, #2d69bb, #5da6ff);
            --error: #e53e3e;
            --error-light: #fed7d7;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            background: var(--blue-50);
            color: var(--ink-900);
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.4;
            min-height: 100vh;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        /* Header styling */
        .admin-header {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(45, 105, 187, 0.08);
            padding: 20px min(5%, 60px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .admin-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-mark {
            width: 30px;
            height: 30px;
            border-radius: 6px;
            background: linear-gradient(145deg, var(--blue-500), var(--blue-300));
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.5), 0 6px 16px rgba(93, 166, 255, 0.28);
        }

        .admin-brand h1 {
            font-weight: 700;
            font-size: 24px;
            color: var(--ink-900);
        }

        .admin-nav {
            display: flex;
            align-items: center;
            gap: 18px;
            color: var(--ink-700);
        }

        .admin-nav a {
            padding: 10px 14px;
            border-radius: 10px;
            transition: background var(--speed-fast), color var(--speed-fast), transform var(--speed-fast);
            font-weight: 500;
        }

        .admin-nav a:hover {
            background: var(--blue-100);
            color: var(--ink-900);
            transform: translateY(-1px);
        }

        .admin-nav a:last-child {
            background: var(--blue-500);
            color: #fff;
            padding: 10px 16px;
            border-radius: 12px;
            box-shadow: 0 6px 20px rgba(93, 166, 255, 0.35);
            transition: transform var(--speed-fast), box-shadow var(--speed-fast), opacity var(--speed-fast);
        }

        .admin-nav a:last-child:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 24px rgba(93, 166, 255, 0.45);
            opacity: 0.95;
        }

        /* Container */
        .admin-container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 0 20px;
        }

        /* Section styling */
        .admin-section {
            background: #fff;
            border-radius: 16px;
            box-shadow: var(--shadow-soft);
            padding: 28px;
            margin-bottom: 32px;
            border: 1px solid rgba(45, 105, 187, 0.12);
        }

        .admin-section h2 {
            color: var(--ink-900);
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--blue-100);
            font-size: 22px;
        }

        /* Table styling */
        .admin-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow-soft);
        }

        .admin-table th {
            background: var(--blue-100);
            color: var(--ink-800);
            font-weight: 600;
            text-align: left;
            padding: 14px 16px;
            border-bottom: 1px solid rgba(45, 105, 187, 0.12);
        }

        .admin-table td {
            padding: 14px 16px;
            border-bottom: 1px solid rgba(45, 105, 187, 0.08);
            color: var(--ink-900);
        }

        .admin-table tr:last-child td {
            border-bottom: none;
        }

        .admin-table tr:hover {
            background: rgba(93, 166, 255, 0.06);
            transition: background var(--speed-med);
        }

        /* Form styling */
        .admin-form {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            margin: 20px 0;
            align-items: flex-end;
        }

        .form-group {
            flex: 1;
            min-width: 200px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--ink-800);
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(45, 105, 187, 0.2);
            border-radius: 12px;
            background: #fff;
            color: var(--ink-900);
            font-size: 16px;
            transition: border-color var(--speed-fast), box-shadow var(--speed-fast);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--blue-500);
            box-shadow: 0 0 0 3px rgba(93, 166, 255, 0.2);
        }

        textarea.form-input {
            min-height: 120px;
            resize: vertical;
        }

        /* Button styling */
        .btn {
            padding: 12px 20px;
            border-radius: 12px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--speed-fast);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn-primary {
            background: var(--blue-500);
            color: #fff;
            box-shadow: 0 6px 20px rgba(93, 166, 255, 0.35);
        }

        .btn-primary:hover {
            background: var(--blue-600);
            transform: translateY(-2px);
            box-shadow: 0 10px 24px rgba(93, 166, 255, 0.45);
        }

        .btn-danger {
            background: var(--error);
            color: #fff;
            padding: 8px 16px;
            font-size: 14px;
        }

        .btn-danger:hover {
            background: #c53030;
            transform: translateY(-1px);
        }

        /* Footer */
        .admin-footer {
            background: linear-gradient(180deg, #f2f7ff, #e6f1ff);
            border-top: 1px solid rgba(45, 105, 187, 0.12);
            padding: 30px min(5%, 60px);
            text-align: center;
            color: var(--ink-700);
            margin-top: 60px;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .admin-header {
                flex-direction: column;
                padding: 15px;
            }

            .admin-brand {
                margin-bottom: 15px;
            }

            .admin-nav {
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }

            .admin-container {
                padding: 0 15px;
                margin: 20px auto;
            }

            .admin-form {
                flex-direction: column;
            }

            .form-group {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <header class="admin-header">
        <div class="admin-brand">
            <div class="brand-mark" aria-hidden="true"></div>
            <h1>Quorel Admin</h1>
        </div>
        <nav class="admin-nav">
            <a href="{{ url_for('index') }}">Dashboard</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        </nav>
    </header>

    <div class="admin-container">
        <section class="admin-section">
            <h2>Admins</h2>
            <table class="admin-table">
                <thead>
                    <tr>
                        <th>Email</th>
                        <th>Designation</th>
                    </tr>
                </thead>
                <tbody>
                    {% for admin in admins %}
                    <tr>
                        <td>{{ admin[1] }}</td>
                        <td>
                            {% if admin[1] == 'maddalajashwanth69@gmail.com' %}
                            Co-Founder
                            {% else %}
                            {{ admin[2] }}
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            {% if session['email'] == 'maddalajashwanth69@gmail.com' %}
            <form class="admin-form" method="post" action="{{ url_for('add_admin') }}">
                <div class="form-group">
                    <label class="form-label" for="email">New Admin Email</label>
                    <input class="form-input" type="email" id="email" name="email" placeholder="Enter email" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="designation">Designation</label>
                    <input class="form-input" type="text" id="designation" name="designation" placeholder="Designation">
                </div>
                <button class="btn btn-primary" type="submit">Add Admin</button>
            </form>
            {% endif %}
        </section>

        <section class="admin-section">
            <h2>Users</h2>
            <table class="admin-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Email</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td>{{ user[0] }}</td>
                        <td>{{ user[1] }}</td>
                        <td>
                            <form method="post" action="{{ url_for('remove_user') }}" style="display:inline;">
                                <input type="hidden" name="user_id" value="{{ user[0] }}">
                                <button type="submit" class="btn btn-danger"
                                    onclick="return confirm('Are you sure you want to remove this user?')">Remove</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>

        <section class="admin-section">
            <h2>Send Email to All Users</h2>
            <form method="post" action="{{ url_for('send_email_to_all') }}">
                <div class="form-group">
                    <label class="form-label" for="subject">Subject</label>
                    <input class="form-input" type="text" id="subject" name="subject" placeholder="Email subject"
                        required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="body">Message</label>
                    <textarea class="form-input" id="body" name="body" placeholder="Your message..."
                        required></textarea>
                </div>
                <button class="btn btn-primary" type="submit">Send Email</button>
            </form>
        </section>
    </div>

    <footer class="admin-footer">
        <p>Â© 2025 Quorel Admin Panel | Made by Team Genix</p>
    </footer>
</body>

</html>